<template>
  <lightning-quick-action-panel>

    <lightning-card>

      <div slot="title">
        <lightning-layout horizontal-align="end" class="slds-p-bottom_medium">
          <lightning-layout-item padding="horizontal-small">
            <template if:true={currentUnderstanding}>
              <p class="slds-text-heading_small">
                From {currentUnderstanding.resource}
              </p>
            </template>
          </lightning-layout-item>
          <lightning-layout-item padding="horizontal-small">
            <p class="slds-text-title">
              {totalReviewed} Reviewed
            </p>
          </lightning-layout-item>
          <lightning-layout-item padding="horizontal-small">
            <p class="slds-text-title">
              {totalNotReviewed} Left to Review
            </p>
          </lightning-layout-item>
        </lightning-layout>
      </div>

      <div slot="footer" class="slds-p-around_medium">
        <lightning-button variant="brand"
                          label="I want to see this again"
                          onclick={advanceToNextUnderstanding}>
        </lightning-button>
        &nbsp;&nbsp;&nbsp;
        <lightning-button variant="destructive"
                          label="Mark as Reviewed"
                          onclick={moveUnderstandingToReviewedAndAdvance}>
        </lightning-button>
        &nbsp;&nbsp;&nbsp;
        <lightning-button variant="inverse"
                          label="I'm Done"
                          onclick={markReviewed}>
        </lightning-button>
      </div>

      <template if:true={currentUnderstanding}>
        <div class="slds-m-left_medium">
          <div class="slds-m-left_x-large slds-m-right_x-large slds-p-around_medium">
            <p class="slds-text-title slds-m-bottom_small slds-align_absolute-center">
              {currentUnderstanding.recordName}
            </p>
            <lightning-formatted-rich-text value={currentUnderstanding.description}></lightning-formatted-rich-text>
          </div>
        </div>
      </template>

    </lightning-card>

  </lightning-quick-action-panel>
</template>